<!DOCTYPE html>

<html>

<head>
	<title>Charaktere</title>

	<link rel="stylesheet" type="text/css" href="../css/portrait_formate.css">	
	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body>

<h1>Charakter-Portraits</h1>

<div id="section" style="height: 900px; width:80%;">
	<div class="portrait">
		<div class="oben" >
		
			<div class="linke-spalte">
				<div class="char-Bild">
					<img src="images/portraits/bilwiss1.jpg">
					<input type="text" name="bildtitel">
					</img>
					<input type="submit" onclick="bildAendern()" name="bildtitel">
				</div>
				


				<script>
					function bildAendern(){
						let name = $(".char-Bild > input").val();
						let pfadname = "images/portraits/" + name;
						$(".char-Bild > img").attr("src", pfadname);
					}
				</script>

				<div class="char-Werte">
					<ul> <h3> Kampfwerte </h3>
						<li><input type="number" name="obH" size="4"><label for="obH"> OB - HW</label></li>
						<li><input type="number" name="obN" size="4" ><label for="obN"> OB - NW</label></li>
						<li><input type="number" name="db" size="4"><label for="db"> DB </label>
							<button>OR</button>
							<button>LE</button>
							<button>VL</button>
							<button>KE</button>
							<button>PL</button>
						</li>
						<li><input type="number" name="bm" size="4"><label for="bm"> BM</label></li>
					</ul>
						<div class="treffer-regler">
							Treffer: <div class="ausgabe-treffer">0</div>
							<input type="range" name="tref" size="4">
							<button class="button" name="trefup"><i class="up arrow"></i></button><br/>
							<button class="button" name="trefdown"><i class="down arrow"></i></button>
						</div>
					
					<div class="waffen-werte">
						<div class="waffenbox1">
							<select class="waffen1" >
								<optgroup label="Einhändige Klingenwaffen">
									<option value="Messer_1_STI(B)_0_5_-15OB gg Ke/Pl" label="Messer">Messer</option>
									<option value="Dolch_1_STI(C)_0_5_-15OB gg Ke/Pl" label="Dolch">Dolch</option>
									<option value="Krummsäbel_4_STR_0_0_+5OB(-5OB gg Ke/Pl)">Krummsäbel</option>
									<option value="Kurzschwert_2_STR_0_1_+10 OB(-10 gg Ke/Pl)">Kurzschwert</option>
									<option value="Langschwert_3_STR_0_0_-">Langschwert</option>
									<option value="Peitsche_6_RIN(C)_STR(A)_-10OB(nur außerhalb von 3m einsetzbar)">Peitsche</option>
									<option value="Streitaxt_4_STR_0_5_+5OBggKe/Pl">Streitaxt</option>
								</optgroup>	
								<optgroup label="Einhändige Schlagwaffen">
									<option value="Keule_4_HIE(D)_0_1_-10OB" label="Keule">Keule</option>
									<option value="Kriegshammer_4_HIE_0_3_+5OB" label="Kriegshammer">Kriegshammer</option>
									<option value="Morgenstern_8_HIE_STI(A)_0_+10OB(bei PatzerKT(B)" label="Morgenstern">Morgenstern</option>
									<option value="Netz_6_RIN_0_3_MittlererAngriffAT6" label="Netz">Netz</option>
									<option value="Streitkolben_2_HIE_0_2_0" label="Steitkolben">Steitkolben</option>
								</optgroup>
								<optgroup label="Einhändige Stangenwaffen">
									<option value="Speer_5_STI_STR(A)_6_-5OB/+10OB(beidhändig)(nur außerhalb von 1,5m einsetzbar)" label="Speer">Speer</option>
									<option value="Wurfspeer_4_STI_0_10_-10OB(im Nahkampf wie Speer)" label="Wurfspeer">Wurfspeer</option>
								</optgroup>
								<optgroup label="Beidhändige Stangenwaffen">
									<option value="Hellebarde_7_STR_STI_0_AT9/-5OB(nur außerhalb von 1,5m einsetzbar)" label="Hellebarde">Hellebarde</option>
									<option value="Lanze_7_STI_STO_0_+15OB(bei Patzer KT(B)" label="Lanze">Lanze</option>
								</optgroup>
								<optgroup label="Zweihandwaffen">
									<option value="Bihänder_5_STR_HIE_0_-10OB" label="Bihänder">Bihänder</option>
									<option value="Kampfstab_3_HIE_0_0_-10OB" label="Kampfstab">Kampfstab</option>
									<option value="Kriegsflegel_8_HIE_STI_0_+10OB(bei Patzer KT(B)" label="Kriegsflegel">Kriegsflegel</option>
									<option value="Schlachtbeil_5_STR_HIE_0_-5/+5OBggKe/Pl" label="Schlachtbeil">Schlachtbeil</option>
								</optgroup>
								<optgroup label="Schußwaffen">
									<option value="Armbrust_5_STI_0_30_Laden(2)(bis 15m +20OB)" label="Armbrust">Armbrust</option>
									<option value="Bola_7_RIN_HIE(A)_12_-5OB(bei Patzer KT(B))" label="Bola">Bola</option>
									<option value="Kompositbogen_4_STI_0_25_Laden(1)/Nachladen(0) bei -25 auf OB" label="Kompositbogen">Kompositbogen</option>
									<option value="Kurzbogen_4_STI_0_20_Laden(1)/Nachladen(0) bei -20 auf OB" label="Kurzbogen">Kurzbogen</option>
									<option value="Langbogen_5_STI_0_35_Laden(1)/Nachladen(0) bei -35 auf OB" label="Langbogen">Langbogen</option>
									<option value="Schleuder_6_HIE(D)_0_15_Laen(1)(Schildbenutzung möglich)" label="Schleuder">Schleuder</option>
								</optgroup>
							</select>
							<p class="ausgabe-waffe1"></p>
						</div>
						<div class="waffenbox2">
							<select class="waffen2" >
								<optgroup label="Einhändige Klingenwaffen">
									<option value="Messer_1_STI(B)_0_5_-15OB gg Ke/Pl" label="Messer">Messer</option>
									<option value="Dolch_1_STI(C)_0_5_-15OB gg Ke/Pl" label="Dolch">Dolch</option>
									<option value="Krummsäbel_4_STR_0_0_+5OB(-5OB gg Ke/Pl)">Krummsäbel</option>
									<option value="Kurzschwert_2_STR_0_1_+10 OB(-10 gg Ke/Pl)">Kurzschwert</option>
									<option value="Langschwert_3_STR_0_0_-">Langschwert</option>
									<option value="Peitsche_6_RIN(C)_STR(A)_-10OB(nur außerhalb von 3m einsetzbar)">Peitsche</option>
									<option value="Streitaxt_4_STR_0_5_+5OBggKe/Pl">Streitaxt</option>
								</optgroup>	
								<optgroup label="Einhändige Schlagwaffen">
									<option value="Keule_4_HIE(D)_0_1_-10OB" label="Keule">Keule</option>
									<option value="Kriegshammer_4_HIE_0_3_+5OB" label="Kriegshammer">Kriegshammer</option>
									<option value="Morgenstern_8_HIE_STI(A)_0_+10OB(bei PatzerKT(B)" label="Morgenstern">Morgenstern</option>
									<option value="Netz_6_RIN_0_3_MittlererAngriffAT6" label="Netz">Netz</option>
									<option value="Streitkolben_2_HIE_0_2_0" label="Steitkolben">Steitkolben</option>
								</optgroup>
								<optgroup label="Einhändige Stangenwaffen">
									<option value="Speer_5_STI_STR(A)_6_-5OB/+10OB(beidhändig)(nur außerhalb von 1,5m einsetzbar)" label="Speer">Speer</option>
									<option value="Wurfspeer_4_STI_0_10_-10OB(im Nahkampf wie Speer)" label="Wurfspeer">Wurfspeer</option>
								</optgroup>
								<optgroup label="Beidhändige Stangenwaffen">
									<option value="Hellebarde_7_STR_STI_0_AT9/-5OB(nur außerhalb von 1,5m einsetzbar)" label="Hellebarde">Hellebarde</option>
									<option value="Lanze_7_STI_STO_0_+15OB(bei Patzer KT(B)" label="Lanze">Lanze</option>
								</optgroup>
								<optgroup label="Zweihandwaffen">
									<option value="Bihänder_5_STR_HIE_0_-10OB" label="Bihänder">Bihänder</option>
									<option value="Kampfstab_3_HIE_0_0_-10OB" label="Kampfstab">Kampfstab</option>
									<option value="Kriegsflegel_8_HIE_STI_0_+10OB(bei Patzer KT(B)" label="Kriegsflegel">Kriegsflegel</option>
									<option value="Schlachtbeil_5_STR_HIE_0_-5/+5OBggKe/Pl" label="Schlachtbeil">Schlachtbeil</option>
								</optgroup>
								<optgroup label="Schußwaffen">
									<option value="Armbrust_5_STI_0_30_Laden(2)(bis 15m +20OB)" label="Armbrust">Armbrust</option>
									<option value="Bola_7_RIN_HIE(A)_12_-5OB(bei Patzer KT(B))" label="Bola">Bola</option>
									<option value="Kompositbogen_4_STI_0_25_Laden(1)/Nachladen(0) bei -25 auf OB" label="Kompositbogen">Kompositbogen</option>
									<option value="Kurzbogen_4_STI_0_20_Laden(1)/Nachladen(0) bei -10 auf OB" label="Kurzbogen">Kurzbogen</option>
									<option value="Langbogen_5_STI_0_35_Laden(1)/Nachladen(0) bei -35 auf OB" label="Langbogen">Langbogen</option>
									<option value="Schleuder_6_HIE(D)_0_15_Laen(1)(Schildbenutzung möglich)" label="Schleuder">Schleuder</option>
								</optgroup>
							</select>
							<p class="ausgabe-waffe2"></p>
						</div>					

					</div>

				</div>


			</div>
			<div class="rechte-Spalte">
				<div class="char-Zustaende">
				
					<div class="zustaende-box">
						<button name="benom" type="button">Benommenheit</button> 
						<br>
						<div class="zustand-bild benom" >
							<label for="benom"> Runden: </label>
							<input name="benom" type="number" size="5">
							<br>
							<img name="benom" src="images/benommenheit.png" height="50px" width="50px"></img> 
						</div>
					</div>
					
					<div class="zustaende-box" >	
						<button name="blut" type="button">Blutung</button> <br>
							<div class="zustand-bild blut">
								<label for="blutI"> Runden: </label>
								<input name="blutI" type="number" size="5">
								<br>
								<img name="blut" src="images/Blood_drop.png" height="50px" width="40px"></img> 
							</div>
					</div>
					
					<div class="zustaende-box">	
						<button name="eingeschr" type="button">Einschränkung </button> 
						<br>
						<div class="zustand-bild aaH">
							<label for="aaH"> Runden: </label>
							<input name="aaH" type="number" size="5">
							<br>
							<img name="eingeschr" src="images/restriction.png" height="50px" width="50px"></img> 
						</div>
					</div>
				</div>
				
		<script>
				var checkBenom = false;
				var checkBlut = false;
				var checkEingeschr = false;

			$(document).ready(function(){

				$(".benom").toggle();
				$(".blut").toggle();
				$(".aaH").toggle();
			});		
			
			//Treffer-Regler
			$("input[name='tref']").change(function() {
				$(".ausgabe-treffer").html($("input[name='tref']").val());
			});
			$("button[name='trefdown']").click(function() {
				let x = parseInt($("input[name='tref']").val())
				x -= 1;
				$("input[name='tref']").val(x)
				console.log($("input[name='tref']").val());
				$(".ausgabe-treffer").html($("input[name='tref']").val());
			});
			$("button[name='trefup']").click(function() {
				let x = parseInt($("input[name='tref']").val())
				x += 1;
				$("input[name='tref']").val(x)
				$(".ausgabe-treffer").html($("input[name='tref']").val());
			});

			
				$("button[name='benom']").on("click", function(){
					$(".benom").toggle();
					if (checkBenom == true) {checkBenom = false}
					else if (checkBenom == false) {checkBenom = true}
				});
				$("button[name='blut']").on("click",function(){
					$(".blut").toggle();
					if (checkBlut == true) {checkBlut = false}
					else if (checkBlut == false) {checkBlut = true}
				});
				$("button[name='eingeschr']").on("click",function(){
					$(".aaH").toggle();
					if (checkEingeschr == true) {checkEingeschr = false}
					else if (checkEingeschr == false) {checkEingeschr = true}
				});
				
			$("select[class='waffen1']").change(
			function waffenwerteSetzen(){
				let str = $("select[class='waffen1']").val().split("_");
				$("p[class='ausgabe-waffe1']").html(
				`Patzer: <b>${str[1]}</b> RW: <b>${str[4]}</b>
				<br> KHT: <b>${str[2]}</b> KNT: <b>${str[3]}</b> <br>${str[5]} `
				); 
				});
				
			$("select[class='waffen2']").change( 
			function waffenwerteSetzen(){
				let str = $("select[class='waffen2']").val().split("_");
				$("p[class='ausgabe-waffe2']").html(
				`Patzer: <b>${str[1]}</b> RW: <b>${str[4]}</b>
				<br> KHT: <b>${str[2]}</b> KNT: <b>${str[3]}</b> <br>${str[5]} `
				); 
				});
		</script>
	
		<div class="notizen">
			<p>Notizen:</p> 
			<textarea name="notizen" rows="5" cols="40"></textarea>
		</div>
		</div>
		</div>
		<div class="unten">
		<div class="char-Fertigkeiten">
			<h3> Fertigkeiten </h3>
			<table>
				<tr>
					<td>Wahrnehmung:</td>
					<td><input name="wahrnehmung" type="number" size="5"></td>
				</tr>
				<tr>
					<td>Klettern:</td>
					<td><input name="klettern" type="number" size="5"></td>
				</tr>
				<tr>
					<td>Schleichen:</td>
					<td><input name="schleichen" type="number" size="5"></td>
				</tr>
				<tr>
					<td>Schwimmen:</td>
					<td><input name="schwimmen" type="number" size="5"></td>
				</tr>
				<tr>
					<td>Verstecken:</td>
					<td><input name="verstecken" type="number" size="5"></td>
				</tr>
			</table>
		</div>
		<div class="vorab-wuerfe">
			<h3>Vorab geworfene Würfe</h3>
			<table>
				<tr> <td><input type="text" size="1" value="0"></td> <td><input type="text" size="1" value="0"></td></tr>
				<tr> <td><input type="text" size="1" value="0"></td> <td><input type="text" size="1" value="0"></td></tr>
				<tr> <td><input type="text" size="1" value="0"></td> <td><input type="text" size="1" value="0"></td></tr>
				<tr> <td><input type="text" size="1" value="0"></td> <td><input type="text" size="1" value="0"></td></tr>
				<tr> <td><input type="text" size="1" value="0"></td> <td><input type="text" size="1" value="0"></td></tr>
			</table>
		</div>

		<form action="upload.php" method="post" enctype="multipart/form-data">
			<input type="file" name="fileToUpload" id="fileToUpload">
			<input type="submit" name="Upload Image" id="submit">
		</form>

		<!--<div class="buttons">
			<button type="submit" name="speichern"> Speichern </button>
			<button type="submit" name="hochladen"> Hochladen </button>
			<input name="datensatz" type="text">
			<script>
			let arr = [];
			
			$("button[name='speichern']").on("click",
				/*function speichern() {
					
					arr += $("input[name='bildtitel']").val() + " ";
					$("input[type='number']").each(function() {
						arr += $(this).val() + " ";
					});
					arr += $("textarea").val();
					arr += checkBenom + " ";
					arr += checkBlut + " ";
					arr += checkEingeschr;
					console.log(arr);
					arr = [];
				});*/
				function phpspeichern() {
					<?php 
						fopen("save.txt","a+");
						$inhalt = "Name, Waffe, etc \n";
						fwrite("save.txt","$inhalt")
						fclose("save.txt")
					?>
				}
				
			$("button[name='hochladen']").on("click",hochladen(arr));
				/*function hochladen (arr){
				arr = ["a",1,2,3,4,5,,,,,,,12,13,14,15,16,18]
					$("input[name='bildtitel']").val(arr.shift())
					$("input[type='number']").each(function() {
						$(this).val(arr.shift());
						console.log($(this).val());
					});
					$("textarea").val(arr.shift());
				}*/
				function phpladen() {
					<?php 
						$speicherstand = fopen("save.txt", "r") or die ("Datei konnte nicht geladen werden!");
						echo fread("save.txt");
						fclose($speicherstand);
					?>
				}
			</script>
		</div>-->
	</div>
</div>



</body>

</html>